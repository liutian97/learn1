<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
  <script src="./lib/axios.js"></script>
</head>

<body>
  <button id="btn1">发起GET请求</button>
  <button id="btn2">发起POST请求</button>
  <button id="btn3">直接使用axios发起GET请求</button>
  <button id="btn4">直接使用axios发起POST请求</button>

  <script>
    // axios 网络数据请求的库
    // (1) axios发起GET请求
    document.querySelector("#btn1").addEventListener('click', function() {
      var url = 'http://www.liulongbin.top:3006/api/get';
      var paramsObj = { name: 'zs', age: 12 };
      axios.get(url, { params: paramsObj }).then(function(res) {
        console.log(res.data); // res.data 是服务器返回的数据  res是axios包装的对象
      })
    })

    // (2) axios发起POST请求
    document.querySelector("#btn2").addEventListener('click', function() {
      var url = 'http://www.liulongbin.top:3006/api/post'
      var dataObj = { address: '北京', location: '顺义区'}
      axios.post(url, dataObj).then(function(res) {
        console.log(res.data);
      })
    })

    // (3) 直接使用axios发起GET请求
    document.querySelector("#btn3").addEventListener('click', function() {
      axios({
        method: 'GET',
        url: 'http://www.liulongbin.top:3006/api/get',
        params: { 
          name: 'lt', 
          age: 16 
        }   // GET 参数要通过 params 属性提供
      }).then(function(res) {
        console.log(res.data);
      })
    })

    // (4) 直接使用axios发起POST请求
    document.querySelector("#btn3").addEventListener('click', function() {
      axios({
        method: 'POST',
        url: 'http://www.liulongbin.top:3006/api/post',
        data: { 
          name: '哈哈', 
          location: '上海'
        }   // POST 数据要通过 data 属性提供
      }).then(function(res) {
        console.log(res.data);
      })
    })
  </script>
</body>

</html>