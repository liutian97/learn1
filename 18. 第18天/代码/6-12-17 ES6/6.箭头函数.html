<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>箭头函数</title>
</head>
<body>
	<script type="text/javascript">
    // 箭头函数 
    // (1) 定义
    const fun = () => {
      console.log(123);
    };
    fun(); // 123

    // (2) 函数体中只有一句代码，且代码的执行结果就是返回值，可以省略大括号
    const sum = (num1, num2) => num1 + num2;
    const result = sum(1, 2);
    console.log(result);  // 3
    // function sum(num1, num2) {
    //   return num1 + num2;
    // }

    // (3) 如果形参只有一个，可以省略小括号
    const fn1 = v => v;
    console.log(fn1(20));  // 20
    // 相当于：
    // const fn1 = (v) => {
    //   return v;
    // }

    // (4) 箭头函数的this  指向的是函数定义位置的this。
    const obj = { name: '张三'}
    function fn () {
      console.log(this);
      return () => {
        console.log(this) // 箭头函数被定义在fn中，fn函数中的this指向obj对象，所以箭头函数中的this也指obj对象
      }
    }
    const resFn = fn.call(obj);                  // {name: '张三'}
    resFn(); // 在全局调用，但this不指向window     // {name: '张三'}
    // 
    // const resFn = () => {
    //   console.log(this);
    // }

	</script>
</body>
</html>