<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <script>
    let p = new Promise((resolve, reject) => {
      resolve('ok')
    })

    // 执行 then() 方法
    //  promise.then()返回的新Promise 的结果状态由 then() 指定的回调函数执行的结果决定
    let result = p.then(value => {
      // console.log(value);
      // (1) 如果抛出异常，新 Promise 变为rejectd，error为抛出的异常
      // throw '出问题了'

      // (2) 如果返回的是非 Promise 的任意值，新 Promise 变为 resolved ，value 为返回的值
      // return 11

      // (3) 如果返回的是另一个新 Promise ，此 Promise 的结果是新 Promise 的结果
      return new Promise((resolve, reject) => {
        // resolve('success')
        reject('error')
      })
    }, error => {
      console.warn(error);
    })

    console.log(result);  // [[PromiseState]]: "fulfilled"  [[PromiseResult]]: undefined
    // (1)  [[PromiseState]]: "rejected"  [[PromiseResult]]: "出问题了"
    // (2)  [[PromiseState]]: "fulfilled" [[PromiseResult]]: 11
    // (3)  [[PromiseState]]: "fulfilled" [[PromiseResult]]: "success"
    // (3)  [[PromiseState]]: "rejected" [[PromiseResult]]: "error"





  </script>
</body>

</html>