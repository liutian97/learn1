{"version":3,"file":"js/Cate_Params.9a3bb776.js","mappings":"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","sources":["webpack://vue_shop/./src/components/goods/Cate.vue?b87a","webpack://vue_shop/src/components/goods/Cate.vue","webpack://vue_shop/./src/components/goods/Cate.vue?361d","webpack://vue_shop/./src/components/goods/Cate.vue","webpack://vue_shop/./src/components/goods/Params.vue?38c0","webpack://vue_shop/src/components/goods/Params.vue","webpack://vue_shop/./src/components/goods/Params.vue?bb35","webpack://vue_shop/./src/components/goods/Params.vue"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-breadcrumb',{attrs:{\"separator-class\":\"el-icon-arrow-right\"}},[_c('el-breadcrumb-item',{attrs:{\"to\":{ path: '/home' }}},[_vm._v(\"首页\")]),_c('el-breadcrumb-item',[_vm._v(\"商品管理\")]),_c('el-breadcrumb-item',[_vm._v(\"商品分类\")])],1),_c('el-card',[_c('el-row',[_c('el-col',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.showAddCateDialog}},[_vm._v(\"添加分类\")])],1)],1),_c('tree-table',{staticClass:\"treeTable\",attrs:{\"data\":_vm.catelist,\"show-index\":true,\"index-text\":\"#\",\"columns\":_vm.columns,\"selection-type\":false,\"expand-type\":false,\"show-row-hover\":false,\"border\":\"\"},scopedSlots:_vm._u([{key:\"isok\",fn:function(scope){return [(scope.row.cat_deleted === false)?_c('i',{staticClass:\"el-icon-success\",staticStyle:{\"color\":\"lightgreen\"}}):_c('i',{staticClass:\"el-icon-error\",staticStyle:{\"color\":\"red\"}})]}},{key:\"order\",fn:function(scope){return [(scope.row.cat_level === 0)?_c('el-tag',{attrs:{\"size\":\"mini\"}},[_vm._v(\"一级\")]):(scope.row.cat_level === 1)?_c('el-tag',{attrs:{\"type\":\"success\",\"size\":\"mini\"}},[_vm._v(\"二级\")]):_c('el-tag',{attrs:{\"type\":\"warning\",\"size\":\"mini\"}},[_vm._v(\"三级\")])]}}])},[_c('template',{slot:\"opt\"},[_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-edit\",\"size\":\"mini\"}},[_vm._v(\"编辑\")]),_c('el-button',{attrs:{\"type\":\"danger\",\"icon\":\"el-icon-delete\",\"size\":\"mini\"}},[_vm._v(\"删除\")])],1)],2),_c('el-pagination',{attrs:{\"current-page\":_vm.querInfo.pagenum,\"page-sizes\":[3, 5, 10, 15],\"page-size\":_vm.querInfo.pagesize,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}}),_c('el-dialog',{attrs:{\"title\":\"添加分类\",\"visible\":_vm.addCateDialogVisible,\"width\":\"50%\"},on:{\"update:visible\":function($event){_vm.addCateDialogVisible=$event},\"close\":_vm.addCateDialogClosed}},[_c('el-form',{ref:\"addCateFormRef\",attrs:{\"model\":_vm.addCateForm,\"rules\":_vm.addCateFormRules,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"分类名称\",\"prop\":\"cat_name\"}},[_c('el-input',{model:{value:(_vm.addCateForm.cat_name),callback:function ($$v) {_vm.$set(_vm.addCateForm, \"cat_name\", $$v)},expression:\"addCateForm.cat_name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"父级分类\"}},[_c('el-cascader',{attrs:{\"options\":_vm.parentCateList,\"props\":_vm.cascaderProps,\"clearable\":\"\",\"change-on-select\":\"\"},on:{\"change\":_vm.parentCateChanged},model:{value:(_vm.selectedKeys),callback:function ($$v) {_vm.selectedKeys=$$v},expression:\"selectedKeys\"}})],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.addCateDialogVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.addCate}},[_vm._v(\"确 定\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\t<div>\r\n\t\t<!-- 面包屑导航区域 -->\r\n\t\t<el-breadcrumb separator-class=\"el-icon-arrow-right\">\r\n\t\t\t<el-breadcrumb-item :to=\"{ path: '/home' }\">首页</el-breadcrumb-item>\r\n\t\t\t<el-breadcrumb-item>商品管理</el-breadcrumb-item>\r\n\t\t\t<el-breadcrumb-item>商品分类</el-breadcrumb-item>\r\n\t\t</el-breadcrumb>\r\n\r\n\t\t<!-- 卡片视图区域 -->\r\n\t\t<el-card>\r\n\t\t\t<!-- 添加分类区域 -->\r\n\t\t\t<el-row>\r\n\t\t\t\t<el-col>\r\n\t\t\t\t\t<el-button type=\"primary\" @click=\"showAddCateDialog\">添加分类</el-button>\r\n\t\t\t\t</el-col>\r\n\t\t\t</el-row>\r\n\r\n\t\t\t<!-- 表格 -->\r\n\t\t\t<!-- 使用全局注册的 vue-table-tree-grid 组件 注册名为 tree-table-->\r\n\t\t\t<tree-table class=\"treeTable\" :data=\"catelist\" :show-index=\"true\" index-text=\"#\" :columns=\"columns\" :selection-type=\"false\" :expand-type=\"false\" :show-row-hover=\"false\" border>\r\n\r\n\t\t\t\t<!-- “是否有效” 列 -->\r\n\t\t\t\t<!-- 使用作用域插槽 （作用域插槽slot接收定义的使用模板列的模板名称）自定义模板列渲染表格数据   -->\r\n\t\t\t\t<!-- slot-scope 接收这一行的数据 -->\r\n\t\t\t\t<template slot=\"isok\" slot-scope=\"scope\">\r\n\t\t\t\t\t<i class=\"el-icon-success\" style=\"color: lightgreen\" v-if=\"scope.row.cat_deleted === false\"></i>\r\n\t\t\t\t\t<i class=\"el-icon-error\" style=\"color: red\" v-else></i>\r\n\t\t\t\t</template>\r\n\r\n\t\t\t\t<!-- “排序” 列-->\r\n\t\t\t\t<template slot=\"order\" slot-scope=\"scope\">\r\n\t\t\t\t\t<el-tag size=\"mini\" v-if=\"scope.row.cat_level === 0\">一级</el-tag>\r\n\t\t\t\t\t<el-tag type=\"success\" size=\"mini\" v-else-if=\"scope.row.cat_level === 1\">二级</el-tag>\r\n\t\t\t\t\t<el-tag type=\"warning\" size=\"mini\" v-else>三级</el-tag>\r\n\t\t\t\t</template>\r\n\r\n\t\t\t\t<!-- “操作” 列 -->\r\n\t\t\t\t<template slot=\"opt\">\r\n\t\t\t\t\t<el-button type=\"primary\" icon=\"el-icon-edit\" size=\"mini\">编辑</el-button>\r\n\t\t\t\t\t<el-button type=\"danger\" icon=\"el-icon-delete\" size=\"mini\">删除</el-button>\r\n\t\t\t\t</template>\r\n\r\n\t\t\t</tree-table>\r\n\r\n\t\t\t<!-- 分页区域 -->\r\n\t\t\t<!-- current-page\t当前页数，支持 .sync 修饰符 -->\r\n\t\t\t<el-pagination @size-change=\"handleSizeChange\" @current-change=\"handleCurrentChange\" :current-page=\"querInfo.pagenum\" :page-sizes=\"[3, 5, 10, 15]\" :page-size=\"querInfo.pagesize\" layout=\"total, sizes, prev, pager, next, jumper\" :total=\"total\">\r\n\t\t\t</el-pagination>\r\n\r\n\t\t\t<!-- “添加分类” 的对话框 -->\r\n\t\t\t<el-dialog title=\"添加分类\" :visible.sync=\"addCateDialogVisible\" width=\"50%\" @close=\"addCateDialogClosed\">\r\n\t\t\t\t<!-- 添加分类的表单 -->\r\n\t\t\t\t<el-form :model=\"addCateForm\" :rules=\"addCateFormRules\" ref=\"addCateFormRef\" label-width=\"100px\">\r\n\t\t\t\t\t<el-form-item label=\"分类名称\" prop=\"cat_name\">\r\n\t\t\t\t\t\t<el-input v-model=\"addCateForm.cat_name\"></el-input>\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t<el-form-item label=\"父级分类\">\r\n\t\t\t\t\t\t<!-- 级联选择器 -->\r\n\t\t\t\t\t\t<el-cascader v-model=\"selectedKeys\" :options=\"parentCateList\" :props=\"cascaderProps\" @change=\"parentCateChanged\" clearable change-on-select></el-cascader>\r\n\t\t\t\t\t\t<!-- v-model 必须绑定数组 -->\r\n\t\t\t\t\t\t<!-- options属性指定选项数组(数据源) -->\r\n\t\t\t\t\t\t<!-- props用来指定配置对象 -->\r\n\t\t\t\t\t\t<!-- clearable\t是否支持清空选项 -->\r\n\t\t\t\t\t\t<!-- disabled  是否禁用 -->\r\n\t\t\t\t\t\t<!-- (注意：需要在公共样式上设置级联菜单的高度，否则级联菜单的最后一级看不到) -->\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t</el-form>\r\n\r\n\t\t\t\t<span slot=\"footer\" class=\"dialog-footer\">\r\n\t\t\t\t\t<el-button @click=\"addCateDialogVisible = false\">取 消</el-button>\r\n\t\t\t\t\t<el-button type=\"primary\" @click=\"addCate\">确 定</el-button>\r\n\t\t\t\t</span>\r\n\t\t\t</el-dialog>\r\n\t\t</el-card>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\tdata () {\r\n\t\t\treturn {\r\n\t\t\t\t// 获取商品分类数据的查询参数  \r\n\t\t\t\tquerInfo: {\r\n\t\t\t\t\ttype: 3,\r\n\t\t\t\t\tpagenum: 1,  // 当前页码值\r\n\t\t\t\t\tpagesize: 5  // 每页显示多少条数据\r\n\t\t\t\t},\r\n\t\t\t\t// 商品分类的数据列表，默认为空\r\n\t\t\t\tcatelist: [],\r\n\t\t\t\t// 总数据条数\r\n\t\t\t\ttotal: 0,\r\n\t\t\t\t// 为 vue-table-with-tree-grid 组件的是使用 指定列的定义\r\n\t\t\t\tcolumns: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlabel: '分类名称',\r\n\t\t\t\t\t\tprop: 'cat_name',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlabel: '是否有效',\r\n\t\t\t\t\t\t// 表示当前列定义为模板列\r\n\t\t\t\t\t\ttype: 'template',\r\n\t\t\t\t\t\t// 表示当前列使用的模板名称\r\n\t\t\t\t\t\ttemplate: 'isok',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlabel: '排序',\r\n\t\t\t\t\t\t// 表示当前列定义为模板列\r\n\t\t\t\t\t\ttype: 'template',\r\n\t\t\t\t\t\t// 表示当前列使用的模板名称\r\n\t\t\t\t\t\ttemplate: 'order',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlabel: '操作',\r\n\t\t\t\t\t\t// 表示当前列定义为模板列\r\n\t\t\t\t\t\ttype: 'template',\r\n\t\t\t\t\t\t// 表示当前列使用的模板名称\r\n\t\t\t\t\t\ttemplate: 'opt',\r\n\t\t\t\t\t},\r\n\t\t\t\t],\r\n\r\n\t\t\t\t// 控制添加分类对话框的显示与隐藏\r\n\t\t\t\taddCateDialogVisible: false,\r\n\r\n\t\t\t\t// 添加分类表单的数据对象\r\n\t\t\t\taddCateForm: {\r\n\t\t\t\t\t// 将要添加的  分类名称\r\n\t\t\t\t\tcat_name: '',\r\n\t\t\t\t\t// 父级分类的Id\r\n\t\t\t\t\tcat_pid: 0,  // 默认要添加1级分类，则父分类Id应该设置为0\r\n\t\t\t\t\t// 分类的等级   //  默认要添加的是一级分类 0\r\n\t\t\t\t\tcat_level: 0\r\n\t\t\t\t},\r\n\t\t\t\t// 添加分类表单的验证规则对象\r\n\t\t\t\taddCateFormRules: {\r\n\t\t\t\t\tcat_name: [\r\n\t\t\t\t\t\t{ required: true, message: '请输入分类名称', trigger: 'blur' },\r\n\t\t\t\t\t],\r\n\t\t\t\t},\r\n\r\n\t\t\t\t// 父级分类 列表数据\r\n\t\t\t\tparentCateList: [],\r\n\t\t\t\t// 指定级联选择器的配置对象 (根据后台响应的数据进行定义)\r\n\t\t\t\tcascaderProps: {\r\n\t\t\t\t\texpandTrigger: 'hover', // expandTrigger\t次级菜单的展开方式\r\n\t\t\t\t\tvalue: 'cat_id',  // value\t指定选中的值\r\n\t\t\t\t\tlabel: 'cat_name',  // label  指定级联选择器中看到的值\r\n\t\t\t\t\tchildren: 'children' // children 指定父子嵌套的值\r\n\t\t\t\t},\r\n\t\t\t\t// 选中的父级分类的Id数组\r\n\t\t\t\tselectedKeys: [],\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tcreated () {\r\n\t\t\tthis.getCateList()\r\n\t\t},\r\n\r\n\t\tmethods: {\r\n\t\t\t// 获取商品分类的列表\r\n\t\t\tasync getCateList () {\r\n\t\t\t\tconst { data: res } = await this.$http.get('categories', { params: this.querInfo })\r\n\t\t\t\tif (res.meta.status !== 200) {\r\n\t\t\t\t\treturn this.$message.error('获取商品分类失败！')\r\n\t\t\t\t}\r\n\t\t\t\tconsole.log(res.data);\r\n\t\t\t\t// 把后台响应的数据列表，赋值给 catelist\r\n\t\t\t\tthis.catelist = res.data.result\r\n\t\t\t\t// 为总数据条数赋值\r\n\t\t\t\tthis.total = res.data.total\r\n\t\t\t},\r\n\r\n\r\n\t\t\t// 监听 pagesize （每页显示多少条数据） 改变\r\n\t\t\thandleSizeChange (newSize) {\r\n\t\t\t\tthis.querInfo.pagesize = newSize\r\n\t\t\t\tthis.getCateList();\r\n\t\t\t},\r\n\r\n\r\n\t\t\t// 监听 pagenum （当前页码值）改变 \r\n\t\t\thandleCurrentChange (newPage) {\r\n\t\t\t\tthis.querInfo.pagenum = newPage\r\n\t\t\t\tthis.getCateList()\r\n\t\t\t},\r\n\r\n\r\n\t\t\t// 点击按钮，显示添加分类的对话框\r\n\t\t\tshowAddCateDialog () {\r\n\t\t\t\t// 先获取父级分类的 分类数据列表\r\n\t\t\t\tthis.getParentCateList()\r\n\t\t\t\t// 再展示出对话框\r\n\t\t\t\tthis.addCateDialogVisible = true\r\n\t\t\t},\r\n\r\n\r\n\t\t\t// 获取父级商品分类 数据列表\r\n\t\t\tasync getParentCateList () {\r\n\t\t\t\t// 调接口\r\n\t\t\t\tconst { data: res } = await this.$http.get('categories', { params: { type: 2 } })\r\n\t\t\t\tif (res.meta.status !== 200) {\r\n\t\t\t\t\treturn this.$message.error('获取父级商品分类失败！')\r\n\t\t\t\t}\r\n\t\t\t\tconsole.log(res.data);\r\n\t\t\t\tthis.parentCateList = res.data\r\n\t\t\t},\r\n\r\n\r\n\t\t\t// 选择项发生变化触发此函数\r\n\t\t\tparentCateChanged () {\r\n\t\t\t\tconsole.log(this.selectedKeys);\r\n\t\t\t\t// 如果 selectedKeys 数组中的 length 大于0，证明选中的父级分类\r\n\t\t\t\t// 反之，就说明没有选中任何父级分类\r\n\t\t\t\tif (this.selectedKeys.length > 0) {\r\n\t\t\t\t\t// 父级分类的Id  ( 将 selectedKeys 数组的最后一项作为父级分类的Id)\r\n\t\t\t\t\tthis.addCateForm.cat_pid = this.selectedKeys[this.selectedKeys.length - 1]\r\n\t\t\t\t\t// 为当前分类的等级赋值\r\n\t\t\t\t\tthis.addCateForm.cat_level = this.selectedKeys.length\r\n\t\t\t\t\treturn\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// 父级分类的Id\r\n\t\t\t\t\tthis.addCateForm.cat_pid = 0\r\n\t\t\t\t\t// 为当前分类的等级赋值\r\n\t\t\t\t\tthis.addCateForm.cat_level = 0\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\r\n\t\t\t// 点击按钮，添加新的分类\r\n\t\t\taddCate () {\r\n\t\t\t\t// console.log(this.addCateForm);  // 查看 分类表单的数据对象\r\n\r\n\t\t\t\t// 发起请求之前表单预校验\r\n\t\t\t\tthis.$refs.addCateFormRef.validate(async valid => {\r\n\t\t\t\t\tif (!valid) return\r\n\t\t\t\t\t// 调接口\r\n\t\t\t\t\tconst { data: res } = await this.$http.post('categories', this.addCateForm)\r\n\t\t\t\t\tif (res.meta.status !== 201) {\r\n\t\t\t\t\t\treturn this.$message.error('添加分类失败！')\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.$message.success('添加分类成功！')\r\n\t\t\t\t\tthis.getCateList()  // 刷新商品分类数据列表\r\n\t\t\t\t\tthis.addCateDialogVisible = false  // 隐藏对话框\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\r\n\t\t\t// 监听对话框的关闭事件，重置表单数据 \r\n\t\t\taddCateDialogClosed () {\r\n\t\t\t\tthis.$refs.addCateFormRef.resetFields()\r\n\t\t\t\tthis.selectedKeys = []  // 清空级联选择器v-model上绑定的数据electedKeys\r\n\t\t\t\tthis.addCateForm.cat_level = ''\r\n\t\t\t\tthis.addCateForm.cat_pid = ''\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n\t.treeTable {\r\n\t\tmargin-top: 15px;\r\n\t}\r\n\t.el-cascader {\r\n\t\twidth: 100%;\r\n\t}\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Cate.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Cate.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Cate.vue?vue&type=template&id=454a57aa&scoped=true&\"\nimport script from \"./Cate.vue?vue&type=script&lang=js&\"\nexport * from \"./Cate.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Cate.vue?vue&type=style&index=0&id=454a57aa&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"454a57aa\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-breadcrumb',{attrs:{\"separator-class\":\"el-icon-arrow-right\"}},[_c('el-breadcrumb-item',{attrs:{\"to\":{ path: '/home' }}},[_vm._v(\"首页\")]),_c('el-breadcrumb-item',[_vm._v(\"商品管理\")]),_c('el-breadcrumb-item',[_vm._v(\"参数列表\")])],1),_c('el-card',[_c('el-alert',{attrs:{\"title\":\"注意：只允许为第三级分类设置相关参数！\",\"type\":\"warning\",\"show-icon\":\"\",\"closable\":true}}),_c('el-row',{staticClass:\"cat_opt\"},[_c('el-col',[_c('span',[_vm._v(\"选择商品分类：\")]),_c('el-cascader',{attrs:{\"options\":_vm.catelist,\"props\":_vm.cateProps},on:{\"change\":_vm.handleChange},model:{value:(_vm.selectedCateKeys),callback:function ($$v) {_vm.selectedCateKeys=$$v},expression:\"selectedCateKeys\"}})],1)],1),_c('el-tabs',{on:{\"tab-click\":_vm.handleTabClick},model:{value:(_vm.activeName),callback:function ($$v) {_vm.activeName=$$v},expression:\"activeName\"}},[_c('el-tab-pane',{attrs:{\"label\":\"动态参数\",\"name\":\"many\"}},[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\",\"disabled\":_vm.isBtnDisabled},on:{\"click\":function($event){_vm.addDialogVisible=true}}},[_vm._v(\"添加参数\")]),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.manyTableData,\"border\":\"\",\"stripe\":\"\"}},[_c('el-table-column',{attrs:{\"type\":\"expand\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._l((scope.row.attr_vals),function(item,i){return _c('el-tag',{key:i,attrs:{\"closable\":\"\"},on:{\"close\":function($event){return _vm.handleClose(i, scope.row)}}},[_vm._v(_vm._s(item))])}),(scope.row.inputVisible)?_c('el-input',{ref:\"saveTagInput\",staticClass:\"input-new-tag\",attrs:{\"size\":\"small\"},on:{\"blur\":function($event){return _vm.handleInputConfirm(scope.row)}},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.handleInputConfirm(scope.row)}},model:{value:(scope.row.inputValue),callback:function ($$v) {_vm.$set(scope.row, \"inputValue\", $$v)},expression:\"scope.row.inputValue\"}}):_c('el-button',{staticClass:\"button-new-tag\",attrs:{\"size\":\"small\"},on:{\"click\":function($event){return _vm.showInput(scope.row)}}},[_vm._v(\"+ New Tag\")])]}}])}),_c('el-table-column',{attrs:{\"type\":\"index\",\"label\":\"#\"}}),_c('el-table-column',{attrs:{\"prop\":\"attr_name\",\"label\":\"参数名称\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-edit\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.showEditDialog(scope.row.attr_id)}}},[_vm._v(\"编辑\")]),_c('el-button',{attrs:{\"type\":\"danger\",\"icon\":\"el-icon-delete\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.removeParams(scope.row.attr_id)}}},[_vm._v(\"删除\")])]}}])})],1)],1),_c('el-tab-pane',{attrs:{\"label\":\"静态属性\",\"name\":\"only\"}},[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\",\"disabled\":_vm.isBtnDisabled},on:{\"click\":function($event){_vm.addDialogVisible=true}}},[_vm._v(\"添加属性\")]),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.onlyTableData,\"border\":\"\",\"stripe\":\"\"}},[_c('el-table-column',{attrs:{\"type\":\"expand\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._l((scope.row.attr_vals),function(item,i){return _c('el-tag',{key:i,attrs:{\"closable\":\"\"},on:{\"close\":function($event){return _vm.handleClose(i, scope.row)}}},[_vm._v(_vm._s(item))])}),(scope.row.inputVisible)?_c('el-input',{ref:\"saveTagInput\",staticClass:\"input-new-tag\",attrs:{\"size\":\"small\"},on:{\"blur\":function($event){return _vm.handleInputConfirm(scope.row)}},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.handleInputConfirm(scope.row)}},model:{value:(scope.row.inputValue),callback:function ($$v) {_vm.$set(scope.row, \"inputValue\", $$v)},expression:\"scope.row.inputValue\"}}):_c('el-button',{staticClass:\"button-new-tag\",attrs:{\"size\":\"small\"},on:{\"click\":function($event){return _vm.showInput(scope.row)}}},[_vm._v(\"+ New Tag\")])]}}])}),_c('el-table-column',{attrs:{\"type\":\"index\",\"label\":\"#\"}}),_c('el-table-column',{attrs:{\"prop\":\"attr_name\",\"label\":\"属性名称\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-edit\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.showEditDialog(scope.row.attr_id)}}},[_vm._v(\"编辑\")]),_c('el-button',{attrs:{\"type\":\"danger\",\"icon\":\"el-icon-delete\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.removeParams(scope.row.attr_id)}}},[_vm._v(\"删除\")])]}}])})],1)],1)],1)],1),_c('el-dialog',{attrs:{\"title\":'添加' + _vm.titleText,\"visible\":_vm.addDialogVisible,\"width\":\"50%\"},on:{\"update:visible\":function($event){_vm.addDialogVisible=$event},\"close\":_vm.addDialogClosed}},[_c('el-form',{ref:\"addFormRef\",attrs:{\"model\":_vm.addForm,\"rules\":_vm.addFormRules,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":_vm.titleText,\"prop\":\"attr_name\"}},[_c('el-input',{model:{value:(_vm.addForm.attr_name),callback:function ($$v) {_vm.$set(_vm.addForm, \"attr_name\", $$v)},expression:\"addForm.attr_name\"}})],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.addDialogVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.addParams}},[_vm._v(\"确 定\")])],1)],1),_c('el-dialog',{attrs:{\"title\":'修改' + _vm.titleText,\"visible\":_vm.editDialogVisible,\"width\":\"50%\"},on:{\"update:visible\":function($event){_vm.editDialogVisible=$event},\"close\":_vm.editDialogClosed}},[_c('el-form',{ref:\"editFormRef\",attrs:{\"model\":_vm.editForm,\"rules\":_vm.editFormRules,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":_vm.titleText,\"prop\":\"attr_name\"}},[_c('el-input',{model:{value:(_vm.editForm.attr_name),callback:function ($$v) {_vm.$set(_vm.editForm, \"attr_name\", $$v)},expression:\"editForm.attr_name\"}})],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.editDialogVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.editParams}},[_vm._v(\"确 定\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\t<div>\r\n\t\t<!-- 面包屑导航区域 -->\r\n\t\t<el-breadcrumb separator-class=\"el-icon-arrow-right\">\r\n\t\t\t<el-breadcrumb-item :to=\"{ path: '/home' }\">首页</el-breadcrumb-item>\r\n\t\t\t<el-breadcrumb-item>商品管理</el-breadcrumb-item>\r\n\t\t\t<el-breadcrumb-item>参数列表</el-breadcrumb-item>\r\n\t\t</el-breadcrumb>\r\n\r\n\t\t<!-- 卡片视图区域 -->\r\n\t\t<el-card>\r\n\t\t\t<!-- 警告区域 -->\r\n\t\t\t<el-alert title=\"注意：只允许为第三级分类设置相关参数！\" type=\"warning\" show-icon :closable=\"true\">\r\n\t\t\t</el-alert>\r\n\t\t\t<!-- 选择商品分类区域 -->\r\n\t\t\t<el-row class=\"cat_opt\">\r\n\t\t\t\t<el-col>\r\n\t\t\t\t\t<span>选择商品分类：</span>\r\n\t\t\t\t\t<!-- 选择商品分类的级联选择框 -->\r\n\t\t\t\t\t<!--  v-model\t选中项绑定值  可把级联选择器中选中的值双向绑定在数组中 -->\r\n\t\t\t\t\t<!-- options\t可选项数据源（数组），键名可通过 Props 属性配置 -->\r\n\t\t\t\t\t<!-- props  级联选择框的配置对象 -->\r\n\t\t\t\t\t<!-- change\t当选中节点变化时触发 -->\r\n\t\t\t\t\t<el-cascader v-model=\"selectedCateKeys\" :options=\"catelist\" :props=\"cateProps\" @change=\"handleChange\"></el-cascader>\r\n\r\n\t\t\t\t</el-col>\r\n\t\t\t</el-row>\r\n\r\n\t\t\t<!-- tab 页签区域 -->\r\n\t\t\t<!-- v-model  绑定值，选中选项卡的 name -->\r\n\t\t\t<el-tabs v-model=\"activeName\" @tab-click=\"handleTabClick\">\r\n\r\n\t\t\t\t<!-- 添加“动态参数”的面板 -->\r\n\t\t\t\t<el-tab-pane label=\"动态参数\" name=\"many\">\r\n\t\t\t\t\t<!-- “添加参数”的按钮 -->\r\n\t\t\t\t\t<!-- 使用disabled属性来定义按钮是否可用，它接受一个Boolean值。 -->\r\n\t\t\t\t\t<el-button type=\"primary\" size=\"mini\" :disabled=\"isBtnDisabled\" @click=\"addDialogVisible=true\">添加参数</el-button>\r\n\r\n\t\t\t\t\t<!-- 动态参数表格 -->\r\n\t\t\t\t\t<el-table :data=\"manyTableData\" style=\"width: 100%\" border stripe>\r\n\t\t\t\t\t\t<!-- 展开行 -->\r\n\t\t\t\t\t\t<el-table-column type=\"expand\">\r\n\t\t\t\t\t\t\t<!-- 作用域 -->\r\n\t\t\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t\t\t<!-- 循环渲染Tag标签 -->\r\n\t\t\t\t\t\t\t\t<el-tag v-for=\"(item, i) in scope.row.attr_vals\" :key=\"i\" closable @close=\"handleClose(i, scope.row)\">{{item}}</el-tag>\r\n\t\t\t\t\t\t\t\t<!-- 动态可编辑的标签 -->\r\n\t\t\t\t\t\t\t\t<!-- 输入的文本框 -->\r\n\t\t\t\t\t\t\t\t<el-input class=\"input-new-tag\" v-if=\"scope.row.inputVisible\" v-model=\"scope.row.inputValue\" ref=\"saveTagInput\" size=\"small\" @keyup.enter.native=\"handleInputConfirm(scope.row)\" @blur=\"handleInputConfirm(scope.row)\">\r\n\t\t\t\t\t\t\t\t</el-input>\r\n\t\t\t\t\t\t\t\t<!-- 添加按钮 -->\r\n\t\t\t\t\t\t\t\t<el-button v-else class=\"button-new-tag\" size=\"small\" @click=\"showInput(scope.row)\">+ New Tag</el-button>\r\n\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t</el-table-column>\r\n\t\t\t\t\t\t<!-- 索引列 -->\r\n\t\t\t\t\t\t<el-table-column type=\"index\" label=\"#\"></el-table-column>\r\n\t\t\t\t\t\t<el-table-column prop=\"attr_name\" label=\"参数名称\"></el-table-column>\r\n\t\t\t\t\t\t<el-table-column label=\"操作\">\r\n\t\t\t\t\t\t\t<!-- 使用作用域插槽 自定义模板列渲染表格数据   -->\r\n\t\t\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t\t\t<el-button type=\"primary\" icon=\"el-icon-edit\" size=\"mini\" @click=\"showEditDialog(scope.row.attr_id)\">编辑</el-button>\r\n\t\t\t\t\t\t\t\t<el-button type=\"danger\" icon=\"el-icon-delete\" size=\"mini\" @click=\"removeParams(scope.row.attr_id)\">删除</el-button>\r\n\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t</el-table-column>\r\n\t\t\t\t\t</el-table>\r\n\r\n\t\t\t\t</el-tab-pane>\r\n\r\n\t\t\t\t<!-- 添加“静态属性”的面板 -->\r\n\t\t\t\t<el-tab-pane label=\"静态属性\" name=\"only\">\r\n\t\t\t\t\t<!-- “添加属性”的按钮 -->\r\n\t\t\t\t\t<el-button type=\"primary\" size=\"mini\" :disabled=\"isBtnDisabled\" @click=\"addDialogVisible=true\">添加属性</el-button>\r\n\r\n\t\t\t\t\t<!-- 静态属性表格 -->\r\n\t\t\t\t\t<el-table :data=\"onlyTableData\" style=\"width: 100%\" border stripe>\r\n\t\t\t\t\t\t<!-- 展开行 -->\r\n\t\t\t\t\t\t<el-table-column type=\"expand\">\r\n\t\t\t\t\t\t\t<!-- 作用域 -->\r\n\t\t\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t\t\t<!-- 循环渲染Tag标签 -->\r\n\t\t\t\t\t\t\t\t<el-tag v-for=\"(item, i) in scope.row.attr_vals\" :key=\"i\" closable @close=\"handleClose(i, scope.row)\">{{item}}</el-tag>\r\n\t\t\t\t\t\t\t\t<!-- 动态可编辑的标签 -->\r\n\t\t\t\t\t\t\t\t<!-- 输入的文本框 -->\r\n\t\t\t\t\t\t\t\t<el-input class=\"input-new-tag\" v-if=\"scope.row.inputVisible\" v-model=\"scope.row.inputValue\" ref=\"saveTagInput\" size=\"small\" @keyup.enter.native=\"handleInputConfirm(scope.row)\" @blur=\"handleInputConfirm(scope.row)\">\r\n\t\t\t\t\t\t\t\t</el-input>\r\n\t\t\t\t\t\t\t\t<!-- 添加按钮 -->\r\n\t\t\t\t\t\t\t\t<el-button v-else class=\"button-new-tag\" size=\"small\" @click=\"showInput(scope.row)\">+ New Tag</el-button>\r\n\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t</el-table-column>\r\n\t\t\t\t\t\t<!-- 索引列 -->\r\n\t\t\t\t\t\t<el-table-column type=\"index\" label=\"#\"></el-table-column>\r\n\t\t\t\t\t\t<el-table-column prop=\"attr_name\" label=\"属性名称\"></el-table-column>\r\n\t\t\t\t\t\t<el-table-column label=\"操作\">\r\n\t\t\t\t\t\t\t<!-- 使用作用域插槽 自定义模板列渲染表格数据   -->\r\n\t\t\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t\t\t<el-button type=\"primary\" icon=\"el-icon-edit\" size=\"mini\" @click=\"showEditDialog(scope.row.attr_id)\">编辑</el-button>\r\n\t\t\t\t\t\t\t\t<el-button type=\"danger\" icon=\"el-icon-delete\" size=\"mini\" @click=\"removeParams(scope.row.attr_id)\">删除</el-button>\r\n\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t</el-table-column>\r\n\t\t\t\t\t</el-table>\r\n\t\t\t\t</el-tab-pane>\r\n\r\n\t\t\t</el-tabs>\r\n\r\n\t\t</el-card>\r\n\r\n\t\t<!-- “添加参数” 的对话框 -->\r\n\t\t<!-- (注意： 动态绑定的属性前面一定要加 ：) -->\r\n\t\t<el-dialog :title=\"'添加' + titleText\" :visible.sync=\"addDialogVisible\" width=\"50%\" @close=\"addDialogClosed\">\r\n\t\t\t<!-- “添加参数” 的表单 -->\r\n\t\t\t<el-form :model=\"addForm\" :rules=\"addFormRules\" ref=\"addFormRef\" label-width=\"100px\">\r\n\t\t\t\t<el-form-item :label=\"titleText\" prop=\"attr_name\">\r\n\t\t\t\t\t<el-input v-model=\"addForm.attr_name\"></el-input>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t</el-form>\r\n\t\t\t<span slot=\"footer\" class=\"dialog-footer\">\r\n\t\t\t\t<el-button @click=\"addDialogVisible = false\">取 消</el-button>\r\n\t\t\t\t<el-button type=\"primary\" @click=\"addParams\">确 定</el-button>\r\n\t\t\t</span>\r\n\t\t</el-dialog>\r\n\r\n\t\t<!-- “修改参数” 的对话框 -->\r\n\t\t<el-dialog :title=\"'修改' + titleText\" :visible.sync=\"editDialogVisible\" width=\"50%\" @close=\"editDialogClosed\">\r\n\t\t\t<!-- “修改参数” 的表单 -->\r\n\t\t\t<el-form :model=\"editForm\" :rules=\"editFormRules\" ref=\"editFormRef\" label-width=\"100px\">\r\n\t\t\t\t<el-form-item :label=\"titleText\" prop=\"attr_name\">\r\n\t\t\t\t\t<el-input v-model=\"editForm.attr_name\"></el-input>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t</el-form>\r\n\t\t\t<span slot=\"footer\" class=\"dialog-footer\">\r\n\t\t\t\t<el-button @click=\"editDialogVisible = false\">取 消</el-button>\r\n\t\t\t\t<el-button type=\"primary\" @click=\"editParams\">确 定</el-button>\r\n\t\t\t</span>\r\n\t\t</el-dialog>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\tdata () {\r\n\t\t\treturn {\r\n\t\t\t\t// 商品分类列表数据\r\n\t\t\t\tcatelist: [],\r\n\t\t\t\t// 级联选择框的配置对象\r\n\t\t\t\tcateProps: {\r\n\t\t\t\t\texpandTrigger: 'hover', // expandTrigger\t次级菜单的展开方式\r\n\t\t\t\t\tvalue: 'cat_id',  // value\t指定选中的值\r\n\t\t\t\t\tlabel: 'cat_name',  // label  指定级联选择器中看到的值\r\n\t\t\t\t\tchildren: 'children' // children 指定父子嵌套的值\r\n\t\t\t\t},\r\n\t\t\t\t// 级联选择框双向绑定到的数组\r\n\t\t\t\tselectedCateKeys: [],\r\n\t\t\t\t// 被激活的Tabs页签的名称\r\n\t\t\t\tactiveName: 'many',\r\n\t\t\t\t// 动态参数的数据 \r\n\t\t\t\tmanyTableData: [],\r\n\t\t\t\t// 静态属性的数据\r\n\t\t\t\tonlyTableData: [],\r\n\t\t\t\t// 控制添加对话框的显示与隐藏\r\n\t\t\t\taddDialogVisible: false,\r\n\t\t\t\t// 添加参数的表单数据对象\r\n\t\t\t\taddForm: {\r\n\t\t\t\t\tattr_name: ''\r\n\t\t\t\t},\r\n\t\t\t\t// 添加表单的验证规则对象\r\n\t\t\t\taddFormRules: {\r\n\t\t\t\t\tattr_name: [\r\n\t\t\t\t\t\t{ required: true, message: '请输入参数名称', trigger: 'blur' }\r\n\t\t\t\t\t],\r\n\t\t\t\t},\r\n\t\t\t\t// 控制修改对话框的显示与隐藏\r\n\t\t\t\teditDialogVisible: false,\r\n\t\t\t\t// 修改的表单数据对象\r\n\t\t\t\teditForm: {},\r\n\t\t\t\t// 修改表单的验证规则对象\r\n\t\t\t\teditFormRules: {\r\n\t\t\t\t\tattr_name: [\r\n\t\t\t\t\t\t{ required: true, message: '请输入参数名称', trigger: 'blur' }\r\n\t\t\t\t\t],\r\n\t\t\t\t},\r\n\t\t\t\t// // 控制按钮与文本框的切换显示\r\n\t\t\t\t// inputVisible: false,\r\n\t\t\t\t// // 文本框中输入的内容\r\n\t\t\t\t// inputValue: ''\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tcreated () {\r\n\t\t\tthis.getCateList()\r\n\r\n\t\t},\r\n\r\n\t\tmethods: {\r\n\t\t\t// 获取所有商品分类数据列表  categories\r\n\t\t\tasync getCateList () {\r\n\t\t\t\tconst { data: res } = await this.$http.get('categories')\r\n\t\t\t\tif (res.meta.status !== 200) {\r\n\t\t\t\t\treturn this.$message.error('获取商品分类列表失败！')\r\n\t\t\t\t}\r\n\t\t\t\tthis.catelist = res.data\r\n\t\t\t\tconsole.log(this.catelist);\r\n\t\t\t},\r\n\r\n\r\n\t\t\t// 级联选择框选中项变化，会触发这个函数\r\n\t\t\thandleChange () {\r\n\t\t\t\t// 触发获取参数的列表\r\n\t\t\t\tthis.getParamsData()\r\n\t\t\t},\r\n\r\n\r\n\t\t\t// tab 页签点击事件的处理函数\r\n\t\t\thandleTabClick () {\r\n\t\t\t\tconsole.log(this.activeName);\r\n\t\t\t\t// 触发获取参数的列表\r\n\t\t\t\tthis.getParamsData()\r\n\t\t\t},\r\n\r\n\r\n\t\t\t// 获取参数的列表数据\r\n\t\t\tasync getParamsData () {\r\n\t\t\t\t// 控制级联选择器的选中范围（要求选中的只能是三级分类）\r\n\t\t\t\t// 证明选中的不是三级分类\r\n\t\t\t\tif (this.selectedCateKeys.length != 3) {\r\n\t\t\t\t\tthis.selectedCateKeys = []  // 清空级联选择器的数组\r\n\t\t\t\t\tthis.manyTableData = []  // 清空动态参数的数据 \r\n\t\t\t\t\tthis.onlyTableData = []  // 清空静态属性的数据\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\t// 证明选中的是三级分类\r\n\t\t\t\tconsole.log(this.selectedCateKeys);\r\n\r\n\t\t\t\t// 发起请求获取参数列表数据  categories/:id/attributes\r\n\t\t\t\t// 根据所选分类的Id，和当前所处的面板，获取对应的参数\r\n\t\t\t\tconst { data: res } = await this.$http.get(`categories/${this.cateId}/attributes`,\r\n\t\t\t\t\t{ params: { sel: this.activeName } })\r\n\t\t\t\tif (res.meta.status !== 200) {\r\n\t\t\t\t\treturn res.$message.error('获取参数列表失败！')\r\n\t\t\t\t}\r\n\t\t\t\t// console.log(res.data);\r\n\r\n\t\t\t\t//  将后台返回的数据进行遍历，拿到的每一项的 attt_vals 字符串转为数组后  在展开行中渲染成tag标签()\r\n\t\t\t\tres.data.forEach(item => {\r\n\t\t\t\t\t// 用三元表达式 判断 解决 attr_vals 为空字符串时的问题\r\n\t\t\t\t\titem.attr_vals = item.attr_vals ? item.attr_vals.split(' ') : []\r\n\t\t\t\t\t// 为每一行数据提供单独的 inputVisible 和 inputValue\r\n\t\t\t\t\t// 控制文本框的显示与隐藏\r\n\t\t\t\t\titem.inputVisible = false\r\n\t\t\t\t\t// 文本框中输入的值\r\n\t\t\t\t\titem.inputValue = ''  // TODO:绑定在template 的scope.row上\r\n\t\t\t\t});\r\n\t\t\t\tconsole.log(res.data);\r\n\r\n\r\n\r\n\t\t\t\t// 判断 后台返回的 res.data 是 “动态参数” 表格下 还是 “静态属性” 表格下 的 数据\r\n\t\t\t\tif (this.activeName === 'many') {\r\n\t\t\t\t\tthis.manyTableData = res.data    // “动态参数” 表格下的数据\r\n\t\t\t\t}\r\n\t\t\t\tthis.onlyTableData = res.data\r\n\t\t\t},\r\n\r\n\r\n\t\t\t// 监听添加对话框的关闭事件\r\n\t\t\taddDialogClosed () {\r\n\t\t\t\tthis.$refs.addFormRef.resetFields()  // 重置\r\n\t\t\t},\r\n\r\n\r\n\t\t\t// 点击按钮，添加动态参数或者静态属性  categories/:id/attributes\r\n\t\t\taddParams () {\r\n\t\t\t\t// 表单提交的预校验\r\n\t\t\t\tthis.$refs.addFormRef.validate(async valid => {\r\n\t\t\t\t\tif (!valid) return\r\n\t\t\t\t\t// 发起请求\r\n\t\t\t\t\tconst { data: res } = await this.$http.post(`categories/${this.cateId}/attributes`,\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tattr_name: this.addForm.attr_name,   // 键 是后台提供的传递的名字\r\n\t\t\t\t\t\t\tattr_sel: this.activeName\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\tif (res.meta.status !== 201) {\r\n\t\t\t\t\t\treturn this.$message.error('添加参数失败！')\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.$message.success('添加参数成功！')\r\n\t\t\t\t\tthis.addDialogVisible = false\r\n\t\t\t\t\tthis.getParamsData()  // 刷新获取参数的列表\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\r\n\t\t\t// 点击按钮，展示修改的对话框\r\n\t\t\tasync showEditDialog (attrId) {  // attrId 用来接收 模板中的 scope.row.attr_id\r\n\t\t\t\t// 发起 根据 ID 查询参数 的请求  categories/:id/attributes/:attrId\r\n\t\t\t\t// (把 表格 中的数据 根据 id 查询出来，绑定到 单击按钮弹出的 对话框 中)\r\n\t\t\t\tconst { data: res } = await this.$http.get(`categories/${this.cateId}/attributes/${attrId}`,\r\n\t\t\t\t\t{ params: { attr_sel: this.activeName } })\r\n\t\t\t\tif (res.meta.status !== 200) {\r\n\t\t\t\t\treturn this.$message.error('获取查询参数失败！')\r\n\t\t\t\t}\r\n\t\t\t\t// 请求成功\r\n\t\t\t\tthis.editForm = res.data  // 将查询到的信息保存到 修改的表单数据对象 中\r\n\t\t\t\tthis.editDialogVisible = true // 显示编辑对话框\r\n\t\t\t},\r\n\r\n\r\n\t\t\t// 点击按钮，修改参数信息  categories/:id/attributes/:attrId\r\n\t\t\teditParams () {\r\n\t\t\t\tthis.$refs.editFormRef.validate(async valid => {\r\n\t\t\t\t\tif (!valid) return\r\n\t\t\t\t\tconst { data: res } = await this.$http.put(`categories/${this.cateId}/attributes/${this.editForm.attr_id}`, { attr_name: this.editForm.attr_name, attr_sel: this.activeName })\r\n\t\t\t\t\tif (res.meta.status !== 200) {\r\n\t\t\t\t\t\treturn this.$message.error('修改参数失败！')\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.$message.success('修改参数成功！')\r\n\t\t\t\t\tthis.getParamsData() // 刷新参数的列表数据\r\n\t\t\t\t\tthis.editDialogVisible = false  // 隐藏对话框\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\r\n\t\t\t// 根据id删除对应的参数项\r\n\t\t\tasync removeParams (attrId) {\r\n\t\t\t\t// 弹框提示\r\n\t\t\t\tconst confirmResult = await this.$confirm('此操作将永久删除该参数, 是否继续?', '提示', {\r\n\t\t\t\t\tconfirmButtonText: '确定',\r\n\t\t\t\t\tcancelButtonText: '取消',\r\n\t\t\t\t\ttype: 'warning'\r\n\t\t\t\t}).catch(err => err)\r\n\t\t\t\t// 点“确定”， confirm\r\n\t\t\t\t// 点“取消”， cancel\r\n\t\t\t\t// console.log(confirmResult);\r\n\t\t\t\tif (confirmResult !== 'confirm') {\r\n\t\t\t\t\treturn this.$message.info('已取消删除！')\r\n\t\t\t\t}\r\n\t\t\t\t// 调接口 进行 删除的业务逻辑  categories/:id/attributes/:attrid\r\n\t\t\t\tconst { data: res } = await this.$http.delete(`categories/${this.cateId}/attributes/${attrId}`)\r\n\t\t\t\tif (res.meta.status !== 200) {\r\n\t\t\t\t\treturn this.$message.error('删除参数失败！')\r\n\t\t\t\t}\r\n\t\t\t\tthis.$message.success('删除参数成功！')\r\n\t\t\t\tthis.getParamsData()  // 更新参数列表\r\n\t\t\t},\r\n\r\n\r\n\t\t\t// 监听修改对话框的关闭事件  重置修改的表单\r\n\t\t\teditDialogClosed () {\r\n\t\t\t\tthis.$refs.editFormRef.resetFields()\r\n\t\t\t},\r\n\r\n\r\n\t\t\t// 文本框失去焦点，或按下 Enter 都会触发\r\n\t\t\tasync handleInputConfirm (row) {\r\n\t\t\t\t// 去除字符串两端的空格，如果长度为0，说明输入不合法是空的，需要重置内容为空\r\n\t\t\t\tif (row.inputValue.trim().length === 0) {\r\n\t\t\t\t\trow.inputValue = ''\r\n\t\t\t\t\trow.inputVisible = false // 隐藏文本框，切换到按钮\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\t// console.log(row);\r\n\t\t\t\t// 如果没有return，则证明输入的内容，需要做后续处理\r\n\t\t\t\t// (1) 将输入到文本框的消息显示在页面\r\n\t\t\t\trow.attr_vals.push(row.inputValue.trim())  // 新文本保存到数组\r\n\t\t\t\trow.inputValue = ''  // 重置\r\n\t\t\t\trow.inputVisible = false  // 隐藏文本框显示为按钮\r\n\t\t\t\t// (2)调用 saveAttrVals() 发起请求，保存这次操作\r\n\t\t\t\tthis.saveAttrVals(row)\r\n\r\n\t\t\t\t// console.log('ok');\r\n\t\t\t},\r\n\r\n\r\n\t\t\t// 将对 attr_vals 的操作，保存到数据库\r\n\t\t\tasync saveAttrVals (row) {\r\n\t\t\t\t// (2) 需要发起请求，保存这次操作  categories/:id/attributes/:attrId\r\n\t\t\t\tconst { data: res } = await this.$http.put(`categories/${this.cateId}/attributes/${row.attr_id}`, {\r\n\t\t\t\t\tattr_name: row.attr_name,\r\n\t\t\t\t\tattr_sel: row.attr_sel,\r\n\t\t\t\t\tattr_vals: row.attr_vals.join(' ')  // row.attr_vals 是数组，传到后台的数据是字符串，用join转为字符串\r\n\t\t\t\t})\r\n\t\t\t\tif (res.meta.status !== 200) {\r\n\t\t\t\t\treturn this.$message.error('修改参数项失败！')\r\n\t\t\t\t}\r\n\t\t\t\tthis.$message.success('修改参数项成功！')\r\n\t\t\t},\r\n\r\n\r\n\t\t\t// 点击按钮，展示文本输入框\r\n\t\t\tshowInput (row) {\r\n\t\t\t\trow.inputVisible = true\r\n\t\t\t\t// 让文本框自动获得焦点\r\n\t\t\t\t// $nextTick 方法的作用，就是当页面上元素被重新渲染之后，才会指定回调函数中的代码\r\n\t\t\t\tthis.$nextTick(_ => {\r\n\t\t\t\t\tthis.$refs.saveTagInput.$refs.input.focus();\r\n\t\t\t\t});\r\n\t\t\t},\r\n\r\n\r\n\t\t\t// 点击x号，删除对应的参数可选项\r\n\t\t\thandleClose (i, row) {\r\n\t\t\t\trow.attr_vals.splice(i, 1)  // 从 索引为 i 位置，删除1个\r\n\t\t\t\tthis.saveAttrVals(row) // 发起请求 对 attr_vals 的操作，保存到数据库\r\n\t\t\t},\r\n\r\n\t\t},\r\n\r\n\t\tcomputed: {\r\n\t\t\tisBtnDisabled () {\r\n\t\t\t\t// 选中三级分类，按钮启动；未选中三级分类，按钮禁用。\r\n\t\t\t\t// 如果按钮需要被禁用，则返回true，否则返回false\r\n\t\t\t\tif (this.selectedCateKeys.length != 3) {\r\n\t\t\t\t\treturn true\r\n\t\t\t\t}\r\n\t\t\t\treturn false\r\n\t\t\t},\r\n\r\n\t\t\t// 处理 获取参数列表数据的 请求路径：categories/:id/attributes 中的动态参数 id\r\n\t\t\t// 当前选中的三级分类的Id\r\n\t\t\tcateId () {\r\n\t\t\t\tif (this.selectedCateKeys.length === 3) {\r\n\t\t\t\t\treturn this.selectedCateKeys[2]\r\n\t\t\t\t}\r\n\t\t\t\treturn null\r\n\t\t\t},\r\n\r\n\t\t\t// 动态计算标题的文本\r\n\t\t\ttitleText () {\r\n\t\t\t\tif (this.activeName === 'many') {\r\n\t\t\t\t\treturn '动态参数'\r\n\t\t\t\t}\r\n\t\t\t\treturn '静态属性'\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n\t.cat_opt {\r\n\t\tmargin: 15px 0;\r\n\t}\r\n\r\n\t.el-tag {\r\n\t\tmargin: 10px;\r\n\t}\r\n\t.input-new-tag {\r\n\t\twidth: 120px;\r\n\t}\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Params.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Params.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Params.vue?vue&type=template&id=23ed1251&scoped=true&\"\nimport script from \"./Params.vue?vue&type=script&lang=js&\"\nexport * from \"./Params.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Params.vue?vue&type=style&index=0&id=23ed1251&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"23ed1251\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","path","_v","on","showAddCateDialog","staticClass","catelist","columns","scopedSlots","_u","key","fn","scope","row","cat_deleted","staticStyle","cat_level","slot","querInfo","pagenum","pagesize","total","handleSizeChange","handleCurrentChange","addCateDialogVisible","$event","addCateDialogClosed","ref","addCateForm","addCateFormRules","model","value","callback","$$v","$set","expression","parentCateList","cascaderProps","parentCateChanged","selectedKeys","addCate","staticRenderFns","data","type","label","prop","template","cat_name","cat_pid","required","message","trigger","expandTrigger","children","created","methods","params","component","cateProps","handleChange","selectedCateKeys","handleTabClick","activeName","isBtnDisabled","addDialogVisible","manyTableData","_l","item","i","handleClose","_s","handleInputConfirm","nativeOn","indexOf","_k","keyCode","showInput","showEditDialog","attr_id","removeParams","onlyTableData","titleText","addDialogClosed","addForm","addFormRules","addParams","editDialogVisible","editDialogClosed","editForm","editFormRules","editParams","attr_name","sel","res","attr_sel","confirmButtonText","cancelButtonText","catch","err","attr_vals","computed","cateId"],"sourceRoot":""}